#!/bin/make
PREFIX = /usr
SRC = $(PREFIX)/src
BIN = $(PREFIX)/src
DEPLOY_CFLAGS = -Wl,-rpath=$(PREFIX)/lib -I$(PREFIX)/include -I. $(CFLAGS)
DEPLOY_LDFLAGS = -L$(PREFIX)/lib $(LDFLAGS)
CC = musl-gcc

# I'm not aware of any other POSIX complient way of doing this that doesn't suck
# https://pubs.opengroup.org/onlinepubs/009695399/utilities/make.html#tag_04_84_13_05
# 
# I could write a makefile-gen script and then makefile-gen | make - 
# But maintaining that'd be a bitch
$(SRC)/abduco:
	cd $(SRC)
	git clone https://github.com/jeremybobbin/abduco

$(SRC)/bash:
	cd $(SRC)
	git clone http://git.savannah.gnu.org/git/bash

$(SRC)/dmenu:
	cd $(SRC)
	git clone https://www.github.com/jeremybobbin/dmenu

$(SRC)/dvtm:
	cd $(SRC)
	git clone https://github.com/jeremybobbin/dvtm

$(SRC)/dwm:
	cd $(SRC)
	git clone https://www.github.com/jeremybobbin/dwm

$(SRC)/libtermkey:
	cd $(SRC)
	git clone https://github.com/jeremybobbin/libtermkey

$(SRC)/lpeg:
	cd $(SRC)
	git clone https://github.com/jeremybobbin/lpeg

$(SRC)/lua:
	cd $(SRC)
	git clone https://github.com/jeremybobbin/lua

$(SRC)/menutils:
	cd $(SRC)
	git clone https://github.com/jeremybobbin/menutils

$(SRC)/musl:
	cd $(SRC)
	git clone https://github.com/bminor/musl

$(SRC)/netbsd-curses:
	cd $(SRC)
	git clone https://github.com/sabotage-linux/netbsd-curses

$(SRC)/nnn:
	cd $(SRC)
	git clone https://github.com/jeremybobbin/nnn

$(SRC)/readline:
	cd $(SRC)
	git clone https://github.com/jeremybobbin/readline

$(SRC)/sbase:
	cd $(SRC)
	git clone https://github.com/michaelforney/sbase

$(SRC)/st:
	cd $(SRC)
	git clone https://github.com/jeremybobbin/st

$(SRC)/support:
	cd $(SRC)
	git clone https://github.com/LambdaLabs/support

$(SRC)/surf:
	cd $(SRC)
	git clone https://www.github.com/jeremybobbin/surf

$(SRC)/tre:
	cd $(SRC)
	git clone https://github.com/jeremybobbin/tre

$(SRC)/vis:
	cd $(SRC)
	git clone https://github.com/jeremybobbin/vis

deploy:
	crontab "$(PREFIX)/etc/crontab"
