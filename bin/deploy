#!/bin/sh

SOURCE_DIR="$HOME/.local/src"
PREFIX=${PREFIX:-"$HOME/.local"}

cp -a "$PREFIX/etc/skel/." "$HOME"

# compile & install executibles
cd "$SOURCE_DIR"
for dir in $(ls); do
	echo "installing $dir" 1>&2
	cd "$dir"
	if [ -x configure ]; then
		./configure
	fi
	make install "PREFIX=$PREFIX"
	cd ..
done

# crontab
echo sourcing crontab 1>&2
crontab "$HOME/.local/etc/crontab"
