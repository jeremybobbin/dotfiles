#!/bin/sh
engines_dir="$DIR/engines"

if [ "$1" ] && [ -x "$engines_dir/$1" ]; then
	engine="$1"
else
	engine="$( ls "$engines_dir" | . dmenu_cache -i -p 'Where to search: ')"
fi

[ ! $engine ] || [ ! "$?" ] && exit 1

query=$(dmenu_cache query -l 10 -i -p "Searching $engine:")

[ ! "$query" ] || [ ! "$?" ] && exit 1

("$engines_dir/$engine" "$query" &)
