#!/bin/sh
export DIR=$XDG_BIN_HOME/browser_prompt.d

# User should be able to $ browser_prompt Search Google
if [ "$1" ] && [ -x "$DIR/$1" ]; then
	method=$1
	shift
else
	method=$(find "$DIR" -maxdepth 1 -type f -printf '%f\n' | dmenu_cache -s browser_prompt -i -p "How start:")
fi

[ ! "$method" ] && exit

url=$("$DIR/$method" "$@")

[ "$?" -ne 0 ] && exit

"$BROWSER" "$url"
